# linterhub: engine metadata

| Metadata     |                                         |
| ------------ |-----------------------------------------|
| EP           | ep-lh-0020                              |
| Version      | 1.0.0                                   |
| Title        | linterhub: configuration file           |
| Authors      | svoboda-rabstvo, binore                 |
| Status       | Draft                                   |

## Abstract

This document describes the structure of configuration file used in lhconf as mentioned in [`ep-lh-0015`](#related).

## Motivation

Each developer have a lot of projects, and everyone can have special settings. This enhancement will unify how user can save special settings for each project.

## Proposal

Each project must have configuration file, called `.linterhub.json`. This file in JSON format which should describe:

- `engines`, `ingores` -  It is a required set of attributes. It allows to understand how to run project with user settings.

### JSON

The configuration file must have the following properties:

| Prorepty      | Type     | Required | Description |
| -             | :-:      | :-:      | -           |
| engines       | object[] | +        | How to run each engine in project |
| ignores       | object[] | +        | Rules of ignore for run the project |

Each properties for running `engine` must have next properties:

| Prorepty      | Type     | Required | Description |
| -             | :-:      | :-:      | -           |
| name          | string   | +        | Name of engine |
| activated     | bool     | -        | Activated or deactivated engine for run in project. Default: `false` |
| config        | string   | -        | Path to custom config file of engine |
| install       | enum     | -        | How to run engine. Values: `local`, `global`, `container`. Default: `local`|

Each rule of `ignore` must have next properties:

| Prorepty      | Type     | Required | Description |
| -             | :-:      | :-:      | -           |
| ingoreId      | string   | +        | Unique id |
| mask          | string   | -        | Mask for ingore |
| line          | int      | -        | Line in file for ingore |
| ruleId        | string   | -        | Id of ignore rule |

This is all information that allows identifying user setting.

## Example

Here is the full example for configuration file:

```json
{
    "engines": [
        {
            "name": "engine",
            "config":"engine\\config.engine",
            "activate": false,
            "install":"local"
        },
        {
            "name": "engine2",
            "config":"engine2\\config.engine2",
            "activate": true,
            "install":"global"
        }
    ],
    "ingores": [
        {
            "ignoreId":"",
            "mask":"*.css",
            "line":"",
            "ruleId":""
        },
        {
            "ignoreId":"",
            "mask":"",
            "line":"2",
            "ruleId":""
        },
        {
            "ignoreId":"",
            "mask":"*.css",
            "line":"",
            "ruleId":""
        }
    ]
}
```

## Unresolved

1. Defaults args of engine for project

## Related

1. [ep-lh-0015](ep-lh-0001.md) - linterhub: lhconf

## References
